<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_widget">
    <sp_widget action="INSERT_OR_UPDATE">
        <category>custom</category>
        <client_script><![CDATA[api.controller=function() {
/* widget controller */

let c = this;

const a1 = 10;
const a2 = 20;

console.log(`sum: ${a1 + a2}`)

c.authorList = Object.groupBy(c.data.arts,function({author}){
return author;
})


for(let [su,sd] of Object.entries(c.authorList)){
//console.log(sd)
}



let a = [1,2,3,4,5];

let ans = a.reduce((accumulator, currentValue) => accumulator + currentValue);
//console.log(ans);

let asc1 = () =>{
fetch("https://fake-json-api.mock.beeceptor.com/users",{"content-type":"aplication/json"}).then((resp) => {
console.log(resp.status)
}).catch((err) => {console.log("svnerr "+err)})
}

let asCall = async() =>{
await asc1();
}

asCall();
};

]]></client_script>
        <controller_as>c</controller_as>
        <css/>
        <data_table>sp_instance</data_table>
        <demo_data/>
        <description/>
        <docs/>
        <field_list/>
        <has_preview>false</has_preview>
        <id>test</id>
        <internal>false</internal>
        <link><![CDATA[function link(scope, element, attrs, controller) {  }]]></link>
        <name>test</name>
        <option_schema/>
        <public>false</public>
        <roles/>
        <script><![CDATA[(function () {
/* populate the 'data' object */
/* e.g., data.table = $sp.getValue('table'); */

data.arts = [];
var msg = "hello";

gs.addInfoMessage(`${msg} JS`)

class KbUtils {

constructor() {
  this.limit = 50,
  this.TABLE_NAME = "kb_knowledge"
}

getKbArticles = () => {
 // gs.addInfoMessage(this.TABLE_NAME)
  let kbGr = new GlideRecord(this.TABLE_NAME);
  kbGr.setLimit(this.limit);
  kbGr.addEncodedQuery("workflow_state=published");
  kbGr.query();

  while (kbGr.next()) {
    let doc = {};
    doc.sd = kbGr.getValue("short_description");
    doc.author = kbGr.getValue("author");

    data.arts.push(doc);
  }

}

infoSuper = () =>{
  gs.addInfoMessage("inside Super class infor")
}
}

let KbUtils3 = Class.create();
KbUtils3.prototype = {
  info3 : () =>{
    gs.addInfoMessage("info3")
  }
};


let kbUtils2 = Class.create();
kbUtils2.prototype = Object.extendsObject(KbUtils3,{
  message : "Created class via Object",
  info : () =>{
    gs.addInfoMessage("inside method")
  }
})

//new kbUtils2().info3()

//new KbUtils().getKbArticles();
})();
]]></script>
        <servicenow>false</servicenow>
        <sys_class_name>sp_widget</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2024-12-23 14:16:30</sys_created_on>
        <sys_id>1830051b096212107f44ff3383ab2164</sys_id>
        <sys_mod_count>200</sys_mod_count>
        <sys_name>test</sys_name>
        <sys_package display_value="GenAI" source="x_1234_genai">e93981f8835612107f443135afda1e82</sys_package>
        <sys_policy/>
        <sys_scope display_value="GenAI">e93981f8835612107f443135afda1e82</sys_scope>
        <sys_update_name>sp_widget_1830051b096212107f44ff3383ab2164</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2024-12-25 07:29:17</sys_updated_on>
        <template><![CDATA[<div>
<!-- your widget template -->
 hello 
</div>]]></template>
    </sp_widget>
</record_update>
